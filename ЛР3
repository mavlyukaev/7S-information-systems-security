import random
import string
import math

def calculate_password_length(P, V, T, A):
    # Вычисление минимальной длины пароля L
    required_combinations = (1 / P) * V * T
    L = math.ceil(math.log2(required_combinations) / math.log2(A))  # Округляем до целого вверх
    return L

def generate_password(length):
    # Определяем алфавит (буквы, цифры, символы)
    alphabet = string.ascii_uppercase + string.ascii_lowercase + string.digits + "!\"#$%&'"
    
    # Генерация случайного пароля
    password = ''.join(random.choice(alphabet) for _ in range(length))
    return password

def main():
    # Ввод параметров P, V и T
    P = float(input("Введите значение P (вероятность успешного взлома): "))
    V = int(input("Введите значение V (количество паролей в день): "))
    T = int(input("Введите значение T (количество дней): "))
    
    # Определение алфавита (A = 72 символа: заглавные, строчные, цифры, символы)
    A = len(string.ascii_uppercase + string.ascii_lowercase + string.digits + "!\"#$%&'")
    
    # Вычисление минимальной длины пароля
    L = calculate_password_length(P, V, T, A)
    
    # Генерация пароля
    password = generate_password(L)
    
    # Вывод результатов
    print(f"Минимальная длина пароля для безопасности: {L}")
    print(f"Сгенерированный пароль: {password}")

if __name__ == "__main__":
    main()